{% extends 'robotTemplates/base.html' %}

{% block right_content %}
    <div class="col-md-6">
        <div class="panel panel-primary">
            <div class="panel-heading">
                <h3 class="panel-title">新增测试集</h3>
            </div>
            <div class="panel-body">
                <form id='obj_form' class="form-horizontal" action=" " method="POST">

                    <div class="form-group ">
                        <label class="col-md-2 control-label" for="suite_num">{{ obj_form.suite_num.label }}</label>
                        <div class="col-md-4">
                            {{ obj_form.suite_num }}
                        </div>
                        {% if obj_form.suite_num.error_messages %}
                            <span class="errors" style="color: red">{{ obj_form.suite_num.errors }}</span>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label" for="name">{{ obj_form.name.label }}</label>
                        <div class="col-md-4">
                            {{ obj_form.name }}
                        </div>
                        {% if obj_form.name.errors %}
                            <span class="errors" style="color: red">{{ obj_form.name.error_messages }}</span>
                        {% endif %}
                    </div>
                    <div class="form-group " style="display: none">
                        <label class="col-md-2 control-label" for="name">{{ obj_form.creator.label }}</label>
                        <div class="col-md-6">
                            {{ obj_form.creator }}
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-md-2 control-label" for="name">{{ obj_form.detail.label }}</label>
                        <div class="col-md-6">
                            {{ obj_form.detail }}
                        </div>
                    </div>
                    <div class="form-group" style="float: right;padding-right: 60px;">
                        <input class="btn btn-primary" type="submit"/>
                        <button class="btn btn-primary" type="reset">重置</button>
                        <button class="btn btn-primary" onclick="history.back(-1);" type="button">返回</button>
                    </div>
                    <div class="form-group errors">{{ error }} </div>
                    <script>
                        $(function () {
                            $('form').bootstrapValidator({
                                message: 'This value is not valid',
                                feedbackIcons: {
                                    valid: 'glyphicon glyphicon-ok',
                                    invalid: 'glyphicon glyphicon-remove',
                                    validating: 'glyphicon glyphicon-refresh'
                                },
                                fields: {
                                    suite_num:{
                                        message: '测试集编号验证失败',
                                        validators: {
                                            notEmpty: {
                                                message: '测试集编号不能为空'
                                            },
                                            stringLength: {
                                                min: 6,
                                                max: 18,
                                                message: '测试集编号长度必须在6到18位之间'
                                            },
                                            regexp: {
                                                regexp: /^[a-zA-Z0-9_]+$/,
                                                message: '测试集编号只能包含大写、小写、数字和下划线'
                                            }
                                        }
                                    },
                                    name: {
                                        message: '测试集名称验证失败',
                                        validators: {
                                            notEmpty: {
                                                message: '测试集名称不能为空'
                                            },
                                            stringLength: {
                                                min: 6,
                                                max: 18,
                                                message: '测试集名称长度必须在6到18位之间'
                                            },
                                            regexp: {
                                                regexp: /^[a-zA-Z0-9_]+$/,
                                                message: '测试集名称只能包含大写、小写、数字和下划线'
                                            }
                                        }
                                    },
                                    detail: {
                                        validators: {
                                            notEmpty: {
                                                message: '项目详情不能为空'
                                            }
                                        }
                                    },
                                    remark: {
                                        validators: {
                                            stringLength: {
                                                max: 100,
                                                message: '备注长度不能超过100'
                                            }
                                        }
                                    }
                                }
                            });
                        });
                    </script>
                </form>
            </div>

        </div>

    </div>
{% endblock %}