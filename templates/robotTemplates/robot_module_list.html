{% extends 'robotTemplates/base.html' %}
{% block right_content %}

    <div class="col-md-8">
        <div class="panel-body" style="padding-bottom:0px;">
            <div class="panel panel-default">
                <div class="panel-heading">查询条件</div>
                <div class="panel-body">
                    <form id="formSearch" class="form-inline">
                        <div class="form-group col-md-3">
                            <label class="control-label col-sm-4 " for="module_name">模块名称</label>

                            <div class="col-sm-3">
                                <input class="form-control" name="module_name" id="module_name">
                            </div>
                        </div>
                        <div class="form-group col-md-4">
                            <label class="control-label col-sm-4 " >项目</label>
                            <div class="col-md-6">
                            <select class="selectpicker form-control " data-live-search="true" title="项目" name="project">

                                {% for p in  project_list %}
                                    <option >{{ p.name }}</option>
                                {% endfor %}
                            </select>
                        </div>


                        </div>
                        <div class="form-group col-md-3">
                            <div class="col-sm-4" style="text-align:left;">
                                <button type="submit" style="margin-left:50px" id="btn_query" class="btn btn-primary">
                                    查询
                                </button>
                            </div>
                        </div>
{#                        <div class="form-group" style="margin-top:15px">#}
{#                            <label class="control-label col-sm-1" for="txt_search_departmentname">模块名称</label>#}
{#                            <div class="col-sm-3">#}
{#                                <input type="text" class="form-control" id="txt_search_departmentname">#}
{#                            </div>#}
{#                            <label class="control-label col-sm-1" for="txt_search_type">所属项目</label>#}
{#                            <div class="col-sm-3">#}
{#                                <select class="selectpicker" id="module_search_type">#}
{#                                    <option value="web">Web自动化</option>#}
{#                                    <option value="app">App自动化</option>#}
{#                                    <option value="inface">接口自动化</option>#}
{#                                </select>#}
{#                            </div>#}
{#                            <div class="col-sm-4" style="text-align:left;">#}
{#                                <button type="button" style="margin-left:50px" id="btn_query" class="btn btn-primary">#}
{#                                    查询#}
{#                                </button>#}
{#                            </div>#}
{#                        </div>#}
                    </form>
                </div>
            </div>

            <div id="toolbar" class="btn-group">
                <button id="btn_add" type="button" class="btn btn-primary"
                        onclick="location.href='{% url 'module_add'%}'">
                    <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
                    新增

                </button>
{#                <button id="btn_edit" type="button" class="btn btn-primary">#}
{#                    <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>#}
{#                    修改#}
{#                </button>#}
                <button id="btn_delete" type="button" class="btn btn-primary">
                    <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
                    删除
                </button>
            </div>

            <table id="tb" class="table table-bordered">
                <thead>
                <tr>
                    <th><input class="checkbox-row" type="checkbox"></th>
                    <th>{{ obj_form.name.label }} </th>

                    <th>{{ obj_form.belong_project.label }}</th>
                    <th>创建人</th>
                    <th>{{ obj_form.detail.label }}</th>
                    <th>创建时间</th>
                    <th>修改时间</th>
                </tr>
                </thead>
                <tbody>
                {% for p in obj %}
                    <tr>
                        <td><input class="checkbox-row" type="checkbox"></td>

                        <td><a href="{% url 'module_detail' p.id %} ">{{ p.name }}</a></td>
                        <td>{{ p.belong_project }}</td>
                        <td>{{ p.creator }}</td>
                        <td>{{ p.detail }}</td>
                        <td>{{ p.add_time }}</td>
                        <td>{{ p.edit_time }}</td>
                    </tr>
                {% endfor %}

                </tbody>
            </table>
            <nav aria-label="Page navigation">
                <ul class="pagination">
                    {% if  obj.previous_page_number > 0 %}
                        <li>
                            <a href="?page={{ obj.previous_page_number }}" aria-label="Previous">
                                <span aria-hidden="true">«</span>
                            </a>
                        </li>
                    {% endif %}

                    {% for page_num in obj_list %}
                        {% if page_num == obj.number %}
                            <li class="active"><a href="?page={{ page_num }}">{{ page_num }}</a></li>
                        {% else %}
                            <li><a href="?page={{ page_num }}">{{ page_num }}</a></li>
                        {% endif %}
                    {% endfor %}

                    {% if obj.has_next %}
                        <li>
                            <a href="?page={{ obj.next_page_number }}" aria-label="Next">
                                <span aria-hidden="true">»</span>
                            </a>
                        </li>
                    {% endif %}
                </ul>
            </nav>


        </div>
    </div>
{% endblock %}
